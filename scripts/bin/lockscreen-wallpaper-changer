#! /bin/bash

# https://stackoverflow.com/questions/10374520/gsettings-with-cron/19666729#19666729
PID=$(pgrep gnome-session)  # instead of 'gnome-session' it can be also used 'noutilus' or 'compiz' or the name of a process of a graphical program about that you are sure that is running after you log in the X session
export DBUS_SESSION_BUS_ADDRESS=$(grep -z DBUS_SESSION_BUS_ADDRESS /proc/$PID/environ | tr -d '\0' | cut -d= -f2-)
find ~/Dropbox/Wallsuffle/BigReso -type f | shuf -n 1 | xargs -I '{}' gsettings set org.gnome.desktop.screensaver picture-uri "file://{}"
